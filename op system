shell.run("/OS/bios/wallpaper")
users    ={"guest","admin"}
passwords={"pass","pass"}
access   ={0,4}

clearanceLevel=0

--network
serverID = 0
net = rednet
net.open("top")
net.open("bottom")
net.open("left")
net.open("back")
net.open("right")

term.setBackgroundColor(colors.blue)
term.clear()

term.setCursorPos(22,8)
print("OS-R")
term.setCursorPos(18,9)
print("version 0.50.4")
sleep(5)
login = function()
local fail = false
while not fail do
term.setBackgroundColor(colors.lightBlue)
term.clear()
for j=1,6 do  for i=1,24 do
paintutils.drawPixel(15+i,4+j,colors.lightGray)end end
term.setCursorPos(24,5)
print("login:")
term.setCursorPos(17,8)
print("user:")
term.setCursorPos(17,10)
print("password:")

term.setCursorPos(22,8)
user = read()
term.setCursorPos(26,10)
password = read("*")
for i = 1, # user do
if user == users[i] then
if password == passwords[i] then
term.setBackgroundColor(colors.black)
term.clear()
term.setCursorPos(1,1)
print("Welcome "..users[i])
sleep(3)
clearanceLevel = access[i]
fail = true
end 
end
end
if fail == false then
term.setBackgroundColor(colors.red)
term.setCursorPos(22,11)
print("Login Failed")
sleep(3)
end--if

end--while
end--login

login()
Tick = function()
while true do
wallpaper()
desktop()
local event, button,mouseX,mouseY = os.pullEvent("mouse_click")
--mouse

if--drop menu
mouseX > 0 and mouseX < 5 and
mouseY == 1 then
term.setCursorPos(1,2)
term.setBackgroundColor(colors.gray)
print("About   ")
print("        ")
print("connect ")
print("files   ")
print("reboot  ")
print("shutdown")
print("log out ")

term.setCursorPos(7,1)
print("Server ID "..serverID)

local event, button,mouseX,mouseY = os.pullEvent("mouse_click")

if--about
mouseX > 1 and mouseX < 9 and
mouseY == 2 then

end

if--connect to server
mouseX > 1 and mouseX < 9 and
mouseY == 4 then
wallpaper()
desktop()
term.setBackgroundColor(colors.black)
term.setCursorPos(17,8)
print("                 ")
term.setCursorPos(17,9)
print("  Id of server:  ")
term.setCursorPos(17,10)
print("                 ")
term.setCursorPos(17,11)
print("                 ")
term.setCursorPos(17,12)
print("                 ")
term.setCursorPos(20,11)
ser = read()

local test = tonumber(ser)
net.send(2,"PING")
term.setCursorPos(17,12)
print("contacting server")
local id,msg,dis = net.receive(10)
local id1,name,dis1 = net.receive(10)
if msg == "Received" then
serverID = 0
serverID = serverID + ser
term.setCursorPos(17,12)
print("server name: "..name)
else--if
term.setCursorPos(17,12)
print("can't contact server")
end--if
sleep(3)
wallpaper()
desktop()
end

if--files
mouseX > 1 and mouseX < 9 and
mouseY == 5 then

end

if--reboot
mouseX > 1 and mouseX < 9 and
mouseY == 6 then
shell.run("reboot")
end

if--shutdown
mouseX > 1 and mouseX < 9 and
mouseY == 7 then
term.setCursorPos(18,8)
print("shutting down..")
sleep(3)
shell.run("shutdown")
end

if--logoff
mouseX > 1 and mouseX < 9 and
mouseY == 8 then
login()
end





end--menu end

--desktop
if
mouseX > 0 and mouseX < 9 and
mouseY > 3 and mouseY < 8 and clearanceLevel == 4 then
term.setBackgroundColor(colors.black)
term.setTextColor(colors.white)
term.clear()
term.setCursorPos(1,1)
error()
end

sleep(1)
end
term.setCursorPos(1,1)
term.setBackgroundColor(colors.black)
term.clear()

end--tick



Tick()
