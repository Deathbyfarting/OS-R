--network
net = rednet
net.open("top")
net.open("bottom")
net.open("left")
net.open("back")
net.open("right")
URLS = {"https://raw.github.com/Deathbyfarting/OS-R/master/startup"}
Path = {"/startup"}

version = "version 1.00.00"
update = "https://raw.github.com/Deathbyfarting/OS-R/master/README.md"

function getFile(url,path)
        print("getting "..url)
        local content = http.get(url)
        local file = fs.open(path,"w")
        print("removing \\")
write = textutils.serialize(content.readAll())
a = string.gsub(write, '\\', " " )
        file.write(a)
        file.close()
        print("done")
end
if not fs.exists("/bios/version") then  --makes the check agaist file if needed
fs.makeDir("/bios")
local file = fs.open("/bios/version","w")
file.write("version 1.00.00")
file.close()
print("created version file")
end            --end if exists

--get version
file = fs.open("/bios/version","r")
version = file.readLine()
file.close()

local checkup = http.get(update)
fs.makeDir("/bios")
content = textutils.serialize(checkup.readAll())
 text = string.match(content, version)
if text == version then 
print("no update needed") 
else 
print("update Needed") 
for i = 1, # URLS do
getFile(URLS[i],Path[i]) end
end
